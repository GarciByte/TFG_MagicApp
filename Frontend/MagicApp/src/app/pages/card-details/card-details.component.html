<ion-content *ngIf="card">

  <div class="button-container">
    <ion-button size="small" shape="round" (click)="navCtrl.back()">
      Volver al buscador de Cartas
    </ion-button>
  </div>

  <div class="detail-container">
    <div class="detail-main">

      <!-- Nombre y Imagen -->
      <div class="detail-left">
        <h1 class="card-title">{{ card.name }}</h1>
        <img class="card-image" [src]="card.imageUrl" [alt]="card.name" />
      </div>

      <div class="detail-right">
        <div class="info-grid">

          <!-- Coste de maná -->
          <div class="info-item" *ngIf="card.manaSymbolUrls.length">
            <span class="label">Coste de maná:</span>
            <span class="value">
              <img *ngFor="let url of card.manaSymbolUrls" class="mana-symbol" [src]="url" loading="lazy" />
            </span>
          </div>

          <!-- Tipo de carta -->
          <div class="info-item" *ngIf="card.typeLine">
            <span class="label">Tipo:</span>
            <span class="value">{{ card.typeLine }}</span>
          </div>

          <!-- Texto de la carta -->
          <div class="info-item full-width" *ngIf="card.oracleText">
            <span class="label">Texto:</span>
            <div class="value oracle-text" [innerHTML]="safeOracleHtml"></div>
          </div>

          <!-- Fuerza/Resistencia -->
          <div class="info-item" *ngIf="card.power">
            <span class="label">Fuerza/Resistencia:</span>
            <span class="value">{{ card.power }}/{{ card.toughness }}</span>
          </div>

          <!-- Colección -->
          <div class="info-item" *ngIf="card.setName">
            <span class="label">Colección:</span>
            <span class="value">{{ card.setName }}</span>
          </div>

          <!-- Rareza -->
          <div class="info-item" *ngIf="card.rarity">
            <span class="label">Rareza:</span>
            <span class="value">{{ card.rarity }}</span>
          </div>

          <!-- Precio -->
          <div class="info-item" *ngIf="card.priceEur">
            <span class="label">Precio:</span>
            <span class="value">{{ card.priceEur }} €</span>
          </div>

          <!-- Enlace de compra -->
          <div class="info-item" *ngIf="card.purchaseCardmarket">
            <span class="label">Comprar:</span>
            <a class="value link" [href]="card.purchaseCardmarket" target="_blank">
              Cardmarket
            </a>
          </div>

        </div>
      </div>

    </div>
  </div>
</ion-content>